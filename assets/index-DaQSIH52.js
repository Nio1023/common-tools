import{_ as V,r as m,o as $,c as _,a as f,w as t,u as q,b as N,d as k,e as s,f as o,g as b,h as l,i as w}from"./main-D406Op9z.js";const A=[],S=(n,a)=>{try{const i=document.createElement("canvas").getContext("2d"),u="sans-serif",c="abcdefghi0123456789";i.font=`${a} 40px ${u}`;const d=i.measureText(c).width;i.font=`${a} 40px ${n}, ${u}`;const p=i.measureText(c).width;return console.log(n,a,d,p),A.includes(p)?!1:(A.push(p),p!==d)}catch(r){console.log(r)}},B=(n,a)=>!a.map(r=>S(n,r)).includes(!1),T=()=>{const n=navigator.userAgent;return n.includes("Chrome")&&!n.includes("Edg")&&!n.includes("OPR")},z=n=>new Promise(a=>setTimeout(a,n)),U={class:"check-page"},W={key:0,class:"ri-check-line"},H={key:1,class:"ri-close-line"},R={key:0,class:"ri-check-line"},L={key:1,class:"ri-close-line"},O={key:0,class:"ri-check-line"},P={key:1,class:"ri-close-line"},I={__name:"index",setup(n){const a=N(),r=q(),i=m(!0),u=m(!1),c=m(!1),d=m(!1),p=m(!1),F=async()=>{if(i.value=!0,c.value=B("Decathlon Display",[400,500,600,700]),u.value=B("Source Han Sans CN",[400,500,700]),d.value=T(),c.value&&u.value&&d.value)if(console.log(r.query.redirectUri),r.query.redirectUri){const v={...r.query};delete v.redirectUri,a.replace({name:r.query.redirectUri,query:{...v}});return}else{a.replace({name:"404"});return}await z(500),i.value=!1},C=v=>{v.startsWith("https://dkt-picture-library.oss-cn-shanghai.aliyuncs.com")&&(p.value=!0),window.open(v,"_blank")};return $(async()=>{F()}),(v,e)=>{const D=k("a-spin"),y=k("a-button"),g=k("a-space"),h=k("a-card"),E=k("a-alert");return s(),_("div",U,[i.value?(s(),f(D,{key:0,tip:"环境检测中..."})):(s(),f(h,{key:1,title:"环境检测结果"},{default:t(()=>[o(g,{direction:"vertical",fill:"",size:20},{default:t(()=>[o(h,{title:"Chrome浏览器"},{extra:t(()=>[o(g,null,{default:t(()=>[o(y,{type:"primary",status:d.value?"success":"danger"},{icon:t(()=>[d.value?(s(),_("i",W)):(s(),_("i",H))]),_:1},8,["status"]),d.value?b("",!0):(s(),f(y,{key:0,onClick:e[0]||(e[0]=x=>C("https://www.google.cn/intl/zh-CN/chrome/"))},{default:t(()=>e[3]||(e[3]=[l("去下载")])),_:1,__:[3]}))]),_:1})]),default:t(()=>[e[4]||(e[4]=l(" 请使用Chrome浏览器使用此工具。 "))]),_:1,__:[4]}),o(h,{title:"字体 - 思源黑体"},{extra:t(()=>[o(g,null,{default:t(()=>[o(y,{type:"primary",status:u.value?"success":"danger"},{icon:t(()=>[u.value?(s(),_("i",R)):(s(),_("i",L))]),_:1},8,["status"]),u.value?b("",!0):(s(),f(y,{key:0,onClick:e[1]||(e[1]=x=>C("https://dkt-picture-library.oss-cn-shanghai.aliyuncs.com/fonts/%E6%80%9D%E6%BA%90%E9%BB%91%E4%BD%93.zip"))},{default:t(()=>e[5]||(e[5]=[l("去下载")])),_:1,__:[5]}))]),_:1})]),default:t(()=>[e[6]||(e[6]=l(" 下载并安装 ")),e[7]||(e[7]=w("span",{style:{color:"rgb(var(--danger-6))"}},"所有的",-1)),e[8]||(e[8]=l(" 思源黑体字体，作为生成内容的中文默认字体 "))]),_:1,__:[6,7,8]}),o(h,{title:"字体 - Decathlon VF"},{extra:t(()=>[o(g,null,{default:t(()=>[o(y,{type:"primary",status:c.value?"success":"danger"},{icon:t(()=>[c.value?(s(),_("i",O)):(s(),_("i",P))]),_:1},8,["status"]),c.value?b("",!0):(s(),f(y,{key:0,onClick:e[2]||(e[2]=x=>C("https://dkt-picture-library.oss-cn-shanghai.aliyuncs.com/fonts/DECATHLON%20VF.zip"))},{default:t(()=>e[9]||(e[9]=[l("去下载")])),_:1,__:[9]}))]),_:1})]),default:t(()=>[e[10]||(e[10]=l(" 下载并安装 ")),e[11]||(e[11]=w("span",{style:{color:"rgb(var(--danger-6))"}},"所有的",-1)),e[12]||(e[12]=l(" DecathlonVF字体，作为生成内容的英文/数字默认字体 "))]),_:1,__:[10,11,12]}),p.value?(s(),f(E,{key:0},{default:t(()=>e[13]||(e[13]=[l("安装字体包后请在新标签页重新重启浏览器，刷新不会更新检测结果")])),_:1,__:[13]})):b("",!0)]),_:1})]),_:1}))])}}},j=V(I,[["__scopeId","data-v-b2787048"]]);export{j as default};
